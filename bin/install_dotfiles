#!/bin/bash

REPO="$( cd "$( dirname "$0" )/.." && pwd )"
DOT="$REPO/dot"

copy_if_different() {
  source="$DOT/$1"
  target="$HOME/.$1"
  mkdir -p "$(dirname "$target")"
  if [[ ! -f "$target" ]] || [[ -n "$(diff "$source" "$target")" ]]; then
    cp -i "$source" "$target"
  fi
}

echo "$DOT" > "$HOME/.aa_config_dir"

copy_if_different "bash_profile"
copy_if_different "bashrc"
copy_if_different "eslintrc"
copy_if_different "gemrc"
copy_if_different "gitconfig"
copy_if_different "gitignore"
copy_if_different "pryrc"
copy_if_different "railsrc"
copy_if_different "rspec"
copy_if_different "rubocop.yml"
copy_if_different "sqliterc"
copy_if_different "atom/config.cson"
